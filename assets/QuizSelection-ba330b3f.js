import{_ as v,i as y,o,c as n,b as e,e as d,F as f,r as z,j as c,k as u,t as r,g as m,d as C}from"./index-c0381769.js";const _={name:"QuizSelectionView",data(){return{selectedCategory:null,categories:[],quizzes:[]}},computed:{filteredQuizzes(){return this.selectedCategory?this.quizzes.filter(i=>i.category===this.selectedCategory):this.quizzes},completedQuizzes(){return this.$store.state.user.progress.completedQuizzes||[]}},created(){this.$route.query.category&&(this.selectedCategory=this.$route.query.category),this.fetchCategories(),this.fetchQuizzes()},methods:{fetchCategories(){this.$store.dispatch("fetchCategories").then(()=>{this.categories=this.$store.state.quiz.categories})},fetchQuizzes(){this.$store.dispatch("fetchQuizzes",this.selectedCategory).then(()=>{this.quizzes=this.$store.state.quiz.quizzes})},selectCategory(i){this.selectedCategory=i,this.fetchQuizzes()},getCategoryIcon(i){const t=this.categories.find(p=>p.id===i);return t?t.icon:"mdi mdi-help-circle"},startQuiz(i){this.$router.push(`/quiz/${i}`)},isCompleted(i){return this.completedQuizzes.includes(i)}}},k={class:"quiz-selection-view"},Q={class:"section-header"},$={class:"category-filter"},q=["onClick"],b={class:"quiz-list"},x=["onClick"],w={class:"quiz-info"},V={class:"quiz-meta"},N={key:0,class:"completed-badge"},S={class:"bottom-nav"};function B(i,t,p,I,g,l){const a=y("router-link");return o(),n("div",k,[e("header",Q,[e("div",{class:"back-button",onClick:t[0]||(t[0]=s=>i.$router.go(-1))},t[2]||(t[2]=[e("i",{class:"mdi mdi-arrow-left"},null,-1)])),t[3]||(t[3]=e("h1",null,"クイズ一覧",-1))]),e("div",$,[e("div",{class:d(["category-chip",{active:g.selectedCategory===null}]),onClick:t[1]||(t[1]=s=>l.selectCategory(null))}," すべて ",2),(o(!0),n(f,null,z(g.categories,s=>(o(),n("div",{key:s.id,class:d(["category-chip",{active:g.selectedCategory===s.id}]),onClick:h=>l.selectCategory(s.id)},r(s.name),11,q))),128))]),e("div",b,[(o(!0),n(f,null,z(l.filteredQuizzes,s=>(o(),n("div",{key:s.id,class:"quiz-card",onClick:h=>l.startQuiz(s.id)},[e("div",{class:d(["quiz-category",s.category])},[e("i",{class:d(l.getCategoryIcon(s.category))},null,2)],2),e("div",w,[e("h3",null,r(s.title),1),e("div",V,[e("span",null,[t[4]||(t[4]=e("i",{class:"mdi mdi-help-circle"},null,-1)),m(" "+r(s.questions)+" 問",1)]),e("span",null,[t[5]||(t[5]=e("i",{class:"mdi mdi-clock-outline"},null,-1)),m(" "+r(s.duration)+" 分",1)]),e("span",null,[t[6]||(t[6]=e("i",{class:"mdi mdi-star"},null,-1)),m(" "+r(s.xpReward)+" XP",1)])]),e("div",{class:d(["difficulty-badge",s.difficulty])},r(s.difficulty),3),l.isCompleted(s.id)?(o(),n("div",N,t[7]||(t[7]=[e("i",{class:"mdi mdi-check-circle"},null,-1),m(" 完了済み ")]))):C("",!0)])],8,x))),128))]),e("nav",S,[c(a,{to:"/home",class:"nav-item"},{default:u(()=>t[8]||(t[8]=[e("i",{class:"mdi mdi-home"},null,-1),e("span",null,"ホーム",-1)])),_:1}),c(a,{to:"/quiz-selection",class:"nav-item active"},{default:u(()=>t[9]||(t[9]=[e("i",{class:"mdi mdi-book-open-variant"},null,-1),e("span",null,"クイズ",-1)])),_:1}),c(a,{to:"/community",class:"nav-item"},{default:u(()=>t[10]||(t[10]=[e("i",{class:"mdi mdi-account-group"},null,-1),e("span",null,"コミュニティ",-1)])),_:1}),c(a,{to:"/progress",class:"nav-item"},{default:u(()=>t[11]||(t[11]=[e("i",{class:"mdi mdi-chart-line"},null,-1),e("span",null,"進捗",-1)])),_:1}),c(a,{to:"/profile",class:"nav-item"},{default:u(()=>t[12]||(t[12]=[e("i",{class:"mdi mdi-account"},null,-1),e("span",null,"プロフィール",-1)])),_:1})])])}const j=v(_,[["render",B],["__scopeId","data-v-cd916211"]]);export{j as default};
