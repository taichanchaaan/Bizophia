import{_ as f,i as y,o,c as r,b as e,t as l,n as z,F as _,r as h,j as d,k as c,e as u,g as p}from"./index-c0381769.js";const x={name:"HomeView",data(){return{completedToday:1,recommendedQuizzes:[],categories:[]}},computed:{user(){return this.$store.state.user||{username:"ゲスト",profileImage:"",progress:{level:1,xp:0,streak:0},goals:{daily:3,weekly:5}}},userInitial(){return this.user.username?this.user.username.charAt(0).toUpperCase():"G"},xpForNextLevel(){return this.user.progress.level*100},xpPercentage(){return this.user.progress.xp/this.xpForNextLevel*100}},created(){this.fetchCategories(),this.fetchRecommendedQuizzes()},methods:{fetchCategories(){this.$store.dispatch("fetchCategories").then(()=>{this.categories=this.$store.state.quiz.categories})},fetchRecommendedQuizzes(){this.$store.dispatch("fetchQuizzes").then(()=>{this.recommendedQuizzes=this.$store.state.quiz.quizzes.slice(0,3)})},getCategoryIcon(a){const s=this.categories.find(v=>v.id===a);return s?s.icon:"mdi mdi-help-circle"},startQuiz(a){this.$router.push(`/quiz/${a}`)},navigateToCategory(a){this.$router.push({path:"/quiz-selection",query:{category:a}})}}},k={class:"home-view"},C={class:"app-header"},I={class:"user-info"},Q={class:"user-avatar"},q=["src"],w={key:1,class:"avatar-placeholder"},N={class:"user-stats"},T={class:"level-info"},b={class:"level"},F={class:"xp-bar"},L={class:"xp"},P={class:"streak-info"},V={class:"daily-challenge"},B={class:"challenge-progress"},H={class:"progress-circles"},R={class:"recommended-quizzes"},S={class:"section-header"},X={class:"quiz-cards"},j=["onClick"],A={class:"quiz-info"},D={class:"quiz-meta"},E={class:"categories"},G={class:"category-grid"},U=["onClick"],J={class:"category-icon"},K={class:"bottom-nav"};function M(a,s,v,O,m,i){const n=y("router-link");return o(),r("div",k,[e("header",C,[e("div",I,[e("div",Q,[i.user.profileImage?(o(),r("img",{key:0,src:i.user.profileImage,alt:"プロフィール画像"},null,8,q)):(o(),r("div",w,l(i.userInitial),1))]),e("div",N,[e("h2",null,l(i.user.username),1),e("div",T,[e("span",b,"レベル "+l(i.user.progress.level),1),e("div",F,[e("div",{class:"xp-progress",style:z({width:i.xpPercentage+"%"})},null,4)]),e("span",L,l(i.user.progress.xp)+" / "+l(i.xpForNextLevel)+" XP",1)])])]),e("div",P,[s[0]||(s[0]=e("i",{class:"mdi mdi-fire"},null,-1)),e("span",null,l(i.user.progress.streak)+"日連続",1)])]),e("section",V,[s[1]||(s[1]=e("h3",null,"今日のチャレンジ",-1)),e("div",B,[e("div",H,[(o(!0),r(_,null,h(i.user.goals.daily,t=>(o(),r("div",{key:t,class:u(["circle",{completed:t<=m.completedToday}])},l(t),3))),128))]),e("p",null,l(m.completedToday)+"/"+l(i.user.goals.daily)+" クイズ完了",1)])]),e("section",R,[e("div",S,[s[3]||(s[3]=e("h3",null,"おすすめクイズ",-1)),d(n,{to:"/quiz-selection",class:"see-all"},{default:c(()=>s[2]||(s[2]=[p("すべて見る")])),_:1})]),e("div",X,[(o(!0),r(_,null,h(m.recommendedQuizzes,t=>(o(),r("div",{key:t.id,class:"quiz-card",onClick:g=>i.startQuiz(t.id)},[e("div",{class:u(["quiz-category",t.category])},[e("i",{class:u(i.getCategoryIcon(t.category))},null,2)],2),e("div",A,[e("h4",null,l(t.title),1),e("div",D,[e("span",null,[s[4]||(s[4]=e("i",{class:"mdi mdi-help-circle"},null,-1)),p(" "+l(t.questions)+" 問",1)]),e("span",null,[s[5]||(s[5]=e("i",{class:"mdi mdi-clock-outline"},null,-1)),p(" "+l(t.duration)+" 分",1)]),e("span",null,[s[6]||(s[6]=e("i",{class:"mdi mdi-star"},null,-1)),p(" "+l(t.xpReward)+" XP",1)])]),e("div",{class:u(["difficulty-badge",t.difficulty])},l(t.difficulty),3)])],8,j))),128))])]),e("section",E,[s[7]||(s[7]=e("div",{class:"section-header"},[e("h3",null,"カテゴリー")],-1)),e("div",G,[(o(!0),r(_,null,h(m.categories,t=>(o(),r("div",{key:t.id,class:"category-card",onClick:g=>i.navigateToCategory(t.id)},[e("div",J,[e("i",{class:u(t.icon)},null,2)]),e("h4",null,l(t.name),1)],8,U))),128))])]),e("nav",K,[d(n,{to:"/home",class:"nav-item active"},{default:c(()=>s[8]||(s[8]=[e("i",{class:"mdi mdi-home"},null,-1),e("span",null,"ホーム",-1)])),_:1}),d(n,{to:"/quiz-selection",class:"nav-item"},{default:c(()=>s[9]||(s[9]=[e("i",{class:"mdi mdi-book-open-variant"},null,-1),e("span",null,"クイズ",-1)])),_:1}),d(n,{to:"/community",class:"nav-item"},{default:c(()=>s[10]||(s[10]=[e("i",{class:"mdi mdi-account-group"},null,-1),e("span",null,"コミュニティ",-1)])),_:1}),d(n,{to:"/progress",class:"nav-item"},{default:c(()=>s[11]||(s[11]=[e("i",{class:"mdi mdi-chart-line"},null,-1),e("span",null,"進捗",-1)])),_:1}),d(n,{to:"/profile",class:"nav-item"},{default:c(()=>s[12]||(s[12]=[e("i",{class:"mdi mdi-account"},null,-1),e("span",null,"プロフィール",-1)])),_:1})])])}const Y=f(x,[["render",M],["__scopeId","data-v-80c7d410"]]);export{Y as default};
