import{_ as f,o as d,c as u,b as r,e as p,w as a,f as l,v as n,d as g,g as m}from"./index-c0381769.js";const b={name:"AuthView",data(){return{activeTab:"login",loginForm:{email:"",password:""},registerForm:{username:"",email:"",password:"",confirmPassword:""}}},methods:{login(){if(!this.loginForm.email||!this.loginForm.password){alert("すべての項目を入力してください");return}this.$store.dispatch("loginUser",this.loginForm).then(()=>{this.$router.push("/interests")}).catch(t=>{alert("ログインに失敗しました: "+t.message)})},register(){if(!this.registerForm.username||!this.registerForm.email||!this.registerForm.password||!this.registerForm.confirmPassword){alert("すべての項目を入力してください");return}if(this.registerForm.password!==this.registerForm.confirmPassword){alert("パスワードが一致しません");return}const t={id:Date.now().toString(),username:this.registerForm.username,email:this.registerForm.email,profileImage:"",interests:[],goals:{daily:0,weekly:0},progress:{level:1,xp:0,streak:0,completedQuizzes:[]},badges:[]};this.$store.dispatch("registerUser",t).then(()=>{this.$router.push("/interests")}).catch(s=>{alert("アカウント作成に失敗しました: "+s.message)})},socialLogin(t){alert(`${t}でのログインは現在実装中です`)},forgotPassword(){alert("パスワードリセット機能は現在実装中です")},showTerms(){alert("利用規約は現在準備中です")},showPrivacyPolicy(){alert("プライバシーポリシーは現在準備中です")}}},v={class:"auth-view"},w={class:"auth-container"},F={class:"auth-tabs"},y={class:"form-group"},k={class:"form-group"},P={class:"form-footer"},T={class:"form-group"},x={class:"form-group"},V={class:"form-group"},h={class:"form-group"},C={class:"form-footer"},c={class:"social-login"};function U(t,s,q,z,o,i){return d(),u("div",v,[r("div",w,[s[29]||(s[29]=r("div",{class:"auth-header"},[r("div",{class:"logo-placeholder"},"B"),r("h1",null,"Bizophia")],-1)),r("div",F,[r("button",{onClick:s[0]||(s[0]=e=>o.activeTab="login"),class:p(["tab-button",{active:o.activeTab==="login"}])}," ログイン ",2),r("button",{onClick:s[1]||(s[1]=e=>o.activeTab="register"),class:p(["tab-button",{active:o.activeTab==="register"}])}," 新規登録 ",2)]),o.activeTab==="login"?(d(),u("form",{key:0,onSubmit:s[5]||(s[5]=a((...e)=>i.login&&i.login(...e),["prevent"])),class:"auth-form"},[r("div",y,[s[15]||(s[15]=r("label",{for:"login-email",class:"form-label"},"メールアドレス",-1)),l(r("input",{type:"email",id:"login-email","onUpdate:modelValue":s[2]||(s[2]=e=>o.loginForm.email=e),class:"form-input",required:"",placeholder:"example@bizophia.com"},null,512),[[n,o.loginForm.email]])]),r("div",k,[s[16]||(s[16]=r("label",{for:"login-password",class:"form-label"},"パスワード",-1)),l(r("input",{type:"password",id:"login-password","onUpdate:modelValue":s[3]||(s[3]=e=>o.loginForm.password=e),class:"form-input",required:"",placeholder:"パスワードを入力"},null,512),[[n,o.loginForm.password]])]),s[17]||(s[17]=r("div",{class:"form-actions"},[r("button",{type:"submit",class:"btn btn-primary btn-block"},"ログイン")],-1)),r("div",P,[r("a",{href:"#",onClick:s[4]||(s[4]=a((...e)=>i.forgotPassword&&i.forgotPassword(...e),["prevent"]))},"パスワードをお忘れですか？")])],32)):g("",!0),o.activeTab==="register"?(d(),u("form",{key:1,onSubmit:s[12]||(s[12]=a((...e)=>i.register&&i.register(...e),["prevent"])),class:"auth-form"},[r("div",T,[s[18]||(s[18]=r("label",{for:"register-username",class:"form-label"},"ユーザー名",-1)),l(r("input",{type:"text",id:"register-username","onUpdate:modelValue":s[6]||(s[6]=e=>o.registerForm.username=e),class:"form-input",required:"",placeholder:"ユーザー名を入力"},null,512),[[n,o.registerForm.username]])]),r("div",x,[s[19]||(s[19]=r("label",{for:"register-email",class:"form-label"},"メールアドレス",-1)),l(r("input",{type:"email",id:"register-email","onUpdate:modelValue":s[7]||(s[7]=e=>o.registerForm.email=e),class:"form-input",required:"",placeholder:"example@bizophia.com"},null,512),[[n,o.registerForm.email]])]),r("div",V,[s[20]||(s[20]=r("label",{for:"register-password",class:"form-label"},"パスワード",-1)),l(r("input",{type:"password",id:"register-password","onUpdate:modelValue":s[8]||(s[8]=e=>o.registerForm.password=e),class:"form-input",required:"",placeholder:"パスワードを入力"},null,512),[[n,o.registerForm.password]])]),r("div",h,[s[21]||(s[21]=r("label",{for:"register-confirm-password",class:"form-label"},"パスワード（確認）",-1)),l(r("input",{type:"password",id:"register-confirm-password","onUpdate:modelValue":s[9]||(s[9]=e=>o.registerForm.confirmPassword=e),class:"form-input",required:"",placeholder:"パスワードを再入力"},null,512),[[n,o.registerForm.confirmPassword]])]),s[25]||(s[25]=r("div",{class:"form-actions"},[r("button",{type:"submit",class:"btn btn-primary btn-block"},"アカウント作成")],-1)),r("div",C,[r("p",null,[s[22]||(s[22]=m("アカウントを作成することで、")),r("a",{href:"#",onClick:s[10]||(s[10]=a((...e)=>i.showTerms&&i.showTerms(...e),["prevent"]))},"利用規約"),s[23]||(s[23]=m("と")),r("a",{href:"#",onClick:s[11]||(s[11]=a((...e)=>i.showPrivacyPolicy&&i.showPrivacyPolicy(...e),["prevent"]))},"プライバシーポリシー"),s[24]||(s[24]=m("に同意したことになります。"))])])],32)):g("",!0),r("div",c,[s[28]||(s[28]=r("p",{class:"divider"},"または",-1)),r("button",{onClick:s[13]||(s[13]=e=>i.socialLogin("google")),class:"btn btn-outline btn-social"},s[26]||(s[26]=[r("i",{class:"mdi mdi-google"},null,-1),m(" Googleでログイン ")])),r("button",{onClick:s[14]||(s[14]=e=>i.socialLogin("apple")),class:"btn btn-outline btn-social"},s[27]||(s[27]=[r("i",{class:"mdi mdi-apple"},null,-1),m(" Appleでログイン ")]))])])])}const A=f(b,[["render",U],["__scopeId","data-v-43192487"]]);export{A as default};
